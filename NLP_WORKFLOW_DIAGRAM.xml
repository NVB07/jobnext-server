<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="xxx" version="22.1.16">
  <diagram name="Optimized NLP Job Matching Workflow" id="nlp-workflow">
    <mxGraphModel dx="1422" dy="754" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Optimized Job Matching NLP System Workflow" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=18;fontStyle=1;fontColor=#1f497d;" vertex="1" parent="1">
          <mxGeometry x="320" y="20" width="400" height="30" as="geometry" />
        </mxCell>
        
        <!-- Phase 1: Input Processing -->
        <mxCell id="phase1" value="Phase 1: Input Processing -Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="250" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="input" value="📥 Input Data&#xa;• CV Text&#xa;• Job Texts Array&#xa;• Required Skills&#xa;• Performance Options" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="50" y="140" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="validation" value="🔍 Validation&#xa;• Input validation&#xa;• Options parsing&#xa;• Auto-configure mode&#xa;• Cache management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="250" y="140" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- Performance Mode Decision -->
        <mxCell id="mode-decision" value="⚙️ Performance Mode Decision" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="450" y="130" width="140" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="fast-mode" value="⚡ Fast Mode&#xa;• > 25 jobs&#xa;• Max 20-25 jobs&#xa;• 3-5 Gemini calls&#xa;• Batch size: 8" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#ff6666;" vertex="1" parent="1">
          <mxGeometry x="620" y="100" width="130" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="standard-mode" value="🐌 Standard Mode&#xa;• ≤ 25 jobs&#xa;• Max 50 jobs&#xa;• 8 Gemini calls&#xa;• Batch size: 5" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699ff;" vertex="1" parent="1">
          <mxGeometry x="620" y="200" width="130" height="80" as="geometry" />
        </mxCell>
        
        <!-- Phase 2: Preprocessing -->
        <mxCell id="phase2" value="Phase 2: Preprocessing -Skills Extraction" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="300" width="250" height="40" as="geometry" />
        </mxCell>
        
        <!-- Cache System -->
        <mxCell id="cache-system" value="🧠 Smart Cache System&#xa;• Embeddings Cache&#xa;• Skills Cache&#xa;• Preprocessing Cache&#xa;• Auto-cleanup (1000 limit)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="800" y="120" width="150" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="cv-processing" value="📝 CV Processing&#xa;• Text preprocessing (cached)&#xa;• Skills extraction (cached)&#xa;• Experience detection&#xa;• Language detection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="50" y="360" width="180" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="jobs-processing" value="📋 Jobs Processing&#xa;• Parallel preprocessing&#xa;• Batch skills extraction&#xa;• Experience parsing&#xa;• Terms normalization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="250" y="360" width="180" height="90" as="geometry" />
        </mxCell>
        
        <!-- Phase 3: Smart Filtering -->
        <mxCell id="phase3" value="Phase 3: Smart Filtering System" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="480" width="250" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="filtering-decision" value="🎯 Has Required Skills?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="450" y="480" width="140" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="skill-filtering" value="🎯 Skill-based Filtering&#xa;• Normalize skills&#xa;• Exact matching (2x)&#xa;• Text mentions (1x)&#xa;• Score-based ranking&#xa;• Semantic expansion" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#ff6666;" vertex="1" parent="1">
          <mxGeometry x="620" y="420" width="150" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="general-filtering" value="🔍 General Filtering&#xa;• BM25/TF-IDF&#xa;• Semantic similarity&#xa;• Document ranking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#6699ff;" vertex="1" parent="1">
          <mxGeometry x="620" y="540" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- Phase 4: Semantic Matching -->
        <mxCell id="phase4" value="Phase 4: Advanced Semantic Matching" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="650" width="250" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="embeddings" value="🧠 Embeddings Generation&#xa;• CV embedding (cached)&#xa;• Job embeddings (parallel)&#xa;• Cosine similarity calc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="50" y="710" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="ai-scoring" value="🤖 AI Scoring (Gemini)&#xa;• Smart limits (3-8 jobs)&#xa;• Rate limiting&#xa;• Quota management&#xa;• Error handling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="250" y="710" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="hybrid-scoring" value="🎯 Hybrid Scoring&#xa;• Semantic: 50%&#xa;• Keywords: 20%&#xa;• Tech Skills: 30%&#xa;• Experience penalties&#xa;• Skill bonuses (1.3-1.6x)&#xa;• Final: NLP 60% + AI 40%" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="450" y="690" width="180" height="120" as="geometry" />
        </mxCell>
        
        <!-- Phase 5: Results -->
        <mxCell id="phase5" value="Phase 5: Result Processing -Analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="650" width="250" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="results" value="📊 Results Compilation&#xa;• Batch aggregation&#xa;• Score normalization&#xa;• Missing requirements&#xa;• Match details" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="680" y="710" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="analytics" value="📈 Performance Analytics&#xa;• Processing time&#xa;• Memory usage&#xa;• Cache hit rates&#xa;• Quality metrics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="860" y="710" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- Performance Metrics Box -->
        <mxCell id="metrics-box" value="🚀 Performance Achievements&#xa;&#xa;⏱️ Time: 14s → 2s (86% faster)&#xa;🧠 Memory: 1GB → 25MB (95% less)&#xa;🎯 Accuracy: Improved with AI hybrid&#xa;⚡ Cache: 60-80% speedup on repeats&#xa;📊 Batch: Prevents memory spikes&#xa;🔧 Auto-scale: Dynamic optimization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6ffe6;strokeColor=#00cc44;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="300" width="250" height="140" as="geometry" />
        </mxCell>
        
        <!-- Memory Optimization Box -->
        <mxCell id="memory-box" value="🧠 Memory Optimizations&#xa;&#xa;📦 Cache Management:&#xa;• MAX_SIZE: 1000 entries&#xa;• Auto cleanup: 10% chance&#xa;• Hash-based keys&#xa;&#xa;⚡ Batch Processing:&#xa;• Dynamic batch sizes&#xa;• Memory spike prevention&#xa;• Progressive cleanup" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#ff9900;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="800" y="460" width="200" height="160" as="geometry" />
        </mxCell>
        
        <!-- Flow Arrows -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="input" target="validation">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="validation" target="mode-decision">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;entryX=0;entryY=0.5;" edge="1" parent="1" source="mode-decision" target="fast-mode">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;entryX=0;entryY=0.5;" edge="1" parent="1" source="mode-decision" target="standard-mode">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="phase1" target="cv-processing">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="cv-processing" target="jobs-processing">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="jobs-processing" target="filtering-decision">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;entryX=0;entryY=0.5;" edge="1" parent="1" source="filtering-decision" target="skill-filtering">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;entryX=0;entryY=0.5;" edge="1" parent="1" source="filtering-decision" target="general-filtering">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="phase3" target="embeddings">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="embeddings" target="ai-scoring">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="ai-scoring" target="hybrid-scoring">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="hybrid-scoring" target="results">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="results" target="analytics">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Cache connection lines -->
        <mxCell id="cache-line1" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;entryX=1;entryY=0.25;strokeColor=#ff6666;strokeWidth=2;dashed=1;" edge="1" parent="1" source="cache-system" target="cv-processing">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="cache-line2" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;entryX=1;entryY=0.25;strokeColor=#ff6666;strokeWidth=2;dashed=1;" edge="1" parent="1" source="cache-system" target="jobs-processing">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="cache-line3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;entryX=1;entryY=0.25;strokeColor=#ff6666;strokeWidth=2;dashed=1;" edge="1" parent="1" source="cache-system" target="embeddings">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Labels -->
        <mxCell id="label1" value="&gt; 25 jobs" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#ff6666;" vertex="1" parent="1">
          <mxGeometry x="590" y="120" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label2" value="≤ 25 jobs" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#3366ff;" vertex="1" parent="1">
          <mxGeometry x="590" y="220" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label3" value="Yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#ff6666;" vertex="1" parent="1">
          <mxGeometry x="590" y="450" width="30" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="label4" value="No" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#3366ff;" vertex="1" parent="1">
          <mxGeometry x="590" y="570" width="30" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="cache-label" value="Cache System" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;fontColor=#ff6666;rotation=-45;" vertex="1" parent="1">
          <mxGeometry x="650" y="300" width="80" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile> 